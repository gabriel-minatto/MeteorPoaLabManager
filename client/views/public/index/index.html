<template name="index">

    <header class="masthead text-center text-white p-0">
    <div class="masthead-content p-0">
        <div class="container p-0 m-0" style="max-width:100%;">
            <div id="projectCarousel" class="carousel slide" data-ride="carousel">
                <ul class="carousel-indicators">
                    {{ #each getProjects }}
                        <li data-target="#projectCarousel" data-slide-to="{{ @index }}" class="{{ #unless @index != 0 }}active{{ /unless }}"></li>
                    {{ /each }}
                </ul>
                <div class="carousel-inner">
                    {{ #each getProjects }}
                        <div class="carousel-item {{ #unless @index != 0 }}active{{ /unless }}">
                            <a href="{{ pathFor 'project-see' id=this._id }}">
                                {{ #with getProjectCover this.coverId }}
                                    <img class="carousel-img" src="{{ this.url store='projectCoversStore' }}">
                                {{ /with }}
                                <div class="carousel-caption">
                                    <h3>{{ this.title }}</h3>
                                </div>
                            </a>
                        </div>
                    {{ /each }}
                </div>
                <!-- Left and right controls -->
                <a class="carousel-control-prev" href="#projectCarousel" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#projectCarousel" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </a>
            </div>
        </div>
    </div>
    </header>

    {{ #each getMachines }}

        <section>
        <div class="container">
            <div class="row align-items-center">
            <div class="col-lg-6 {{ #if isPairIndex @index }}order-lg-2{{ /if }}">
                <div class="p-5">
                {{ #with getMachineImage this.imageId }}
                    <img class="img-fluid rounded-circle" src="{{ this.url store='machineImagesStore' }}" alt="">
                {{ /with }}
                </div>
            </div>
            <div class="col-lg-6 {{ #if isPairIndex @index }}order-lg-1{{ /if }}">
                <div class="p-5">
                <h2 class="display-4">{{ this.title }}</h2>
                <p>{{ formatDescription this.description }}</p>
                </div>
            </div>
            </div>
        </div>
        </section>

    {{ /each }}

    <style>
        body, #page-content {
            padding-top: 0 !important;
        }

        .carousel-img {
            width: 100%;
            height: 38vw;
            object-fit: cover;
        }
    </style>
</template>